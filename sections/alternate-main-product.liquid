<script src="{{-'alternate-main-product.js' | asset_url -}}" type="module"></script>

<div class="product product__container container">
  <div class="product__image image">
    <div class="image__container">
      <img class="image__product" src="{{- product.featured_image | image_url: width: 473 -}}" alt="{{- product.featured_image.alt | escape -}}">
    </div>
  </div>

  <div class="product__info product-info">
    <div class="product-info__container">
      <header class="product__header">
        <h1 class="product__heading heading--xxl">{{- product.title | escape -}}</h1>
        <span class="product__price price"><abbr>{{- shop.currency }} </abbr>{{- product.price | money_without_currency -}}</span>
        {%- if shop.taxes_included -%}
          <p class="price__description price-description">{{- 'products.product.include_taxes' | t -}}</p>  
        {%- endif -%}
        
      </header>
      <h2 class="visually-hidden">выбор характеристик продукта</h2>
        {% form 'product', product, id:'product-form-1', class:'product__form form' %}
          <input type="hidden" name="id" value="{{- product.selected_or_first_available_variant.id -}}">
          <input type="hidden" name="sections" value="alternate-header">
          <fieldset aria-labelledby="radio-group-legend-text" class="form__fieldset">
            <legend id="radio-group-legend-text" class="radio-group__legend">Size</legend>
            <div class="radio-group">
              <div class="radio-group__container">
                <div class="radio radio-text">
                  <input id="size_xs" class="radio__input visually-hidden" type="radio" name="size" value="xs" checked>
                  <label class="radio__label" for="size_xs">XS</label>
                </div>
                <div class="radio radio-text">
                  <input id="size_s" class="radio__input visually-hidden" type="radio" name="size" value="s">
                  <label class="radio__label" for="size_s">S</label>
                </div>
                <div class="radio radio-text">
                  <input id="size_m" class="radio__input visually-hidden" type="radio" name="size" value="m">
                  <label class="radio__label" for="size_m">M</label>
                </div>
                <div class="radio radio-text">
                  <input id="size_l" class="radio__input visually-hidden" type="radio" name="size" value="l">
                  <label class="radio__label" for="size_l">L</label>
                </div>
                <div class="radio radio-text">
                  <input id="size_xl" class="radio__input visually-hidden" type="radio" name="size" value="xl">
                  <label class="radio__label" for="size_xl">XL</label>
                </div>
                <div class="radio radio-text">
                  <input id="size_2xl" class="radio__input visually-hidden" type="radio" name="size" value="2xl" disabled>
                  <label class="radio__label" for="size_2xl">2XL</label>
                </div>
              </div>
            </div>
          </fieldset>
          <fieldset aria-labelledby="radio-group-legend-color" class="form__fieldset">
            <legend id="radio-group-legend-color" class="radio-group__legend">
              Color<span aria-hidden="true"> - White</span>
            </legend>
            <div class="radio-group">
              <div class="radio-group__container">
                <div class="radio radio-color">
                  <input
                    id="color_white"
                    class="radio__input visually-hidden"
                    type="radio"
                    name="color"
                    value="white"
                    checked
                  >
                  <label class="radio__label" for="color_white" title="White">
                    <img class="radio__image" src="{{ 'color_white.jpg' | asset_url }}" alt="White">
                  </label>
                </div>
                <div class="radio radio-color">
                  <input id="color_black" class="radio__input visually-hidden" type="radio" name="color" value="black">
                  <label class="radio__label" for="color_black" title="Black">
                    <img class="radio__image" src="{{ 'color_black.jpg' | asset_url }}" alt="Black">
                  </label>
                </div>
                <div class="radio radio-color">
                  <input id="color_gray" class="radio__input visually-hidden" type="radio" name="color" value="gray">
                  <label class="radio__label" for="color_gray" title="Gary">
                    <img class="radio__image" src="{{ 'color_gray.jpg' | asset_url }}" alt="Gray">
                  </label>
                </div>
                <div class="radio radio-color">
                  <input
                    id="color_purpure-late"
                    class="radio__input visually-hidden"
                    type="radio"
                    name="color"
                    value="purpure_late"
                  >
                  <label class="radio__label" for="color_purpure-late" title="Purpure late">
                    <img class="radio__image" src="{{ 'color_purpure-late.jpg' | asset_url }}" alt="Purpure late">
                  </label>
                </div>
                <div class="radio radio-color">
                  <input
                    id="color_pink"
                    class="radio__input visually-hidden"
                    type="radio"
                    name="color"
                    value="pink"
                    disabled
                  >
                  <label class="radio__label" for="color_pink" title="Pink">
                    <img class="radio__image" src="{{ 'color_pink.jpg' | asset_url }}" alt="Pink">
                  </label>
                </div>
                <div class="radio radio-color">
                  <input
                    id="color_orange"
                    class="radio__input visually-hidden"
                    type="radio"
                    name="color"
                    value="orange"
                    disabled
                  >
                  <label class="radio__label" for="color_orange" title="Orange">
                    <img class="radio__image" src="{{ 'color_orange.jpg' | asset_url }}" alt="Orange">
                  </label>
                </div>
              </div>
            </div>
          </fieldset>
          <fieldset class="form__fieldset">
            <legend class="quantity__legend"><label for="quantity">{{- 'products.product.quantity.label' |t -}}</label></legend>
            <div class="quantity">
              <div class="quantity__controls">
                <input
                  id="quantity-{{- section.id -}}"
                  class="quantity__input"
                  type="number"
                  min="1"
                  max="999"
                  value="1"
                  name="quantity"
                  form="{{ product_form_id }}"
                >
                <button class="quantity__button quantity__button--decrease" type="button">
                  <span class="visually-hidden">{{- 'products.product.quantity.decrease' | t: product: product.title | escape -}}</span>
                </button>
                <button class="quantity__button quantity__button--increase" type="button">
                  <span class="visually-hidden"> {{- 'products.product.quantity.increase' | t: product: product.title | escape -}}</span>
                </button>
              </div>
            </div>
          </fieldset>
          <div class="form__button">
            <button class="button button--primary" type="submit" name="type" value="add">
              <span>{{- 'products.product.add_to_cart' | t -}}</span>
            </button>
            <button class="button button--secondary" type="submit" name="type" value="buy">
              <span>Buy it now</span>
            </button>
            <div class="form-out-stock" hidden></div>
            {% comment %} {{ form | payment_button }} {% endcomment %}
          </div>
        {% endform%}
      <footer class="product__footer" tabindex="0">
        {%- if product.description != blank -%}
          {{- product.description -}}
        {%- endif -%}
      </footer>
    </div>
  </div>

  <div class="product__description description">
    <h2 class="visually-hidden">{{- 'products.product.description' | t -}}</h2>
    <div class="description__accordion accordion" 
         data-section-id="{{- section.id -}}"
         data-section-type="alternate-main-product"
         data-accordion>
      {%- if section.blocks.size > 0 -%}
        {%- for block in section.blocks -%}
          <div class="accordion__section accordion-section"
               id="{{-block.id-}}"
               {{-block.shopify_attributes-}}
               data-accordion-section>
            <h3 class="accordion-section__heading heading--xl">
              <button
                id="accordion{{- forloop.index -}}id"
                class="accordion-section__button"
                type="button"
                aria-expanded="false"
                aria-controls="sect{{- forloop.index -}}"
                data-accordion-button
              >
                <span class="accordion-section__title">{{- block.settings.title -}}<span class="accordion-section__icon"></span></span>
              </button>
            </h3>
            {%- if block.settings.text != blank -%}
              <div tabindex="-1" id="sect{{- forloop.index -}}" class="accordion-section__content" role="region" aria-labelledby="accordion{{- forloop.index -}}id" data-accordion-content>
                <div class="accordion-content-wrap">
                  {{- block.settings.text -}}
                </div>
              </div>
            {%- endif -%}
          </div>
        {%- endfor-%}
      {%- endif -%}
    </div>
  </div>
</div>

{%- schema -%}
{
  "name": "Alternate main product",
  "tag": "section",
  "limit": 1,
  "templates": ["product"],
  "settings": [],
  "blocks": [
    {
    "type": "accordeon",
    "name": "Accordeon",


    "settings":[
      {
        "type": "text",
        "id": "title",
        "label": "Heading",
        "default": "Heading"
      },
      {
        "type": "richtext",
        "id": "text",
        "label": "Paragraph"
      }
    ]
  }
  ],
  "presets": [
    {
    "name": "Alternate main product"
    }
  ]
}
{%- endschema -%}


