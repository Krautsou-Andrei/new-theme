(()=>{"use strict";(()=>{var t="data-section-id";function e(e,n){this.container=function(e){if(!(e instanceof Element))throw new TypeError("Theme Sections: Attempted to load section. The section container provided is not a DOM element.");if(null===e.getAttribute(t))throw new Error("Theme Sections: The section container provided does not have an id assigned to the "+t+" attribute.");return e}(e),this.id=e.getAttribute(t),this.extensions=[],Object.assign(this,function(t){if(void 0!==t&&"object"!=typeof t||null===t)throw new TypeError("Theme Sections: The properties object provided is not a valid");return t}(n)),this.onLoad()}e.prototype={onLoad:Function.prototype,onUnload:Function.prototype,onSelect:Function.prototype,onDeselect:Function.prototype,onBlockSelect:Function.prototype,onBlockDeselect:Function.prototype,extend:function(t){this.extensions.push(t);var e=Object.assign({},t);delete e.init,Object.assign(this,e),"function"==typeof t.init&&t.init.apply(this)}},"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},writable:!0,configurable:!0});var n="data-section-type",i="data-section-id";window.Shopify=window.Shopify||{},window.Shopify.theme=window.Shopify.theme||{},window.Shopify.theme.sections=window.Shopify.theme.sections||{};var s=window.Shopify.theme.sections.registered=window.Shopify.theme.sections.registered||{},o=window.Shopify.theme.sections.instances=window.Shopify.theme.sections.instances||[];function r(t,n){if("string"!=typeof t)throw new TypeError("Theme Sections: The first argument for .register must be a string that specifies the type of the section being registered");if(void 0!==s[t])throw new Error('Theme Sections: A section of type "'+t+'" has already been registered. You cannot register the same section type twice');function i(t){e.call(this,t,n)}return i.constructor=e,i.prototype=Object.create(e.prototype),i.prototype.type=t,s[t]=i}function a(t,e){t=u(t),void 0===e&&(e=document.querySelectorAll("["+n+"]")),e=l(e),t.forEach((function(t){var i=s[t];void 0!==i&&(e=e.filter((function(e){return!(c(e).length>0||null===e.getAttribute(n)||e.getAttribute(n)===t&&(o.push(new i(e)),1))})))}))}function c(t){var e=[];if(NodeList.prototype.isPrototypeOf(t)||Array.isArray(t))var n=t[0];return t instanceof Element||n instanceof Element?l(t).forEach((function(t){e=e.concat(o.filter((function(e){return e.container===t})))})):"string"!=typeof t&&"string"!=typeof n||u(t).forEach((function(t){e=e.concat(o.filter((function(e){return e.type===t})))})),e}function h(t){for(var e,n=0;n<o.length;n++)if(o[n].id===t){e=o[n];break}return e}function u(t){return"*"===t?t=Object.keys(s):"string"==typeof t?t=[t]:t.constructor===e?t=[t.prototype.type]:Array.isArray(t)&&t[0].constructor===e&&(t=t.map((function(t){return t.prototype.type}))),t.map((function(t){return t.toLowerCase()}))}function l(t){return NodeList.prototype.isPrototypeOf(t)&&t.length>0?t=Array.prototype.slice.call(t):NodeList.prototype.isPrototypeOf(t)&&0===t.length||null===t?t=[]:!Array.isArray(t)&&t instanceof Element&&(t=[t]),t}function d(){this.entries=[]}window.Shopify.designMode&&(document.addEventListener("shopify:section:load",(function(t){var e=t.detail.sectionId,s=t.target.querySelector("["+i+'="'+e+'"]');null!==s&&a(s.getAttribute(n),s)})),document.addEventListener("shopify:section:unload",(function(t){var e=t.detail.sectionId,n=t.target.querySelector("["+i+'="'+e+'"]');"object"==typeof c(n)[0]&&c(n).forEach((function(t){var e=o.map((function(t){return t.id})).indexOf(t.id);o.splice(e,1),t.onUnload()}))})),document.addEventListener("shopify:section:select",(function(t){var e=h(t.detail.sectionId);"object"==typeof e&&e.onSelect(t)})),document.addEventListener("shopify:section:deselect",(function(t){var e=h(t.detail.sectionId);"object"==typeof e&&e.onDeselect(t)})),document.addEventListener("shopify:block:select",(function(t){var e=h(t.detail.sectionId);"object"==typeof e&&e.onBlockSelect(t)})),document.addEventListener("shopify:block:deselect",(function(t){var e=h(t.detail.sectionId);"object"==typeof e&&e.onBlockDeselect(t)}))),d.prototype.add=function(t,e,n){this.entries.push({element:t,event:e,fn:n}),t.addEventListener(e,n)},d.prototype.removeAll=function(){this.entries=this.entries.filter((function(t){return t.element.removeEventListener(t.event,t.fn),!1}))};class p{constructor(t){this.element=t,this.button=this.element.querySelector("[data-menu-burger-button]"),this.menuBurgerContent=this.element.querySelector("[data-menu-burger-content]"),this.open="true"===this.button.getAttribute("aria-expanded"),this._listeners=new d,this._listeners.add(this.button,"click",this.onButtonClick.bind(this)),this._listeners.add(this.menuBurgerContent,"click",this.menuPressMouseDown.bind(this)),this.focusableEls=this.element.querySelectorAll("[data-menu-burger-link]"),this.firstFocusableEl=this.button,this.lastFocusableEl=this.focusableEls[this.focusableEls.length-1],this.KEYCODE_TAB=9,this.KEYCODE_ESCAPE=27,this.trapFocus()}onButtonClick(){this.menuBurgerContent.classList.toggle("active"),this.button.firstElementChild.classList.toggle("active"),this.menuBurgerContent.className.match(/active/)?this.menuBurgerContent.removeAttribute("inert",""):this.menuBurgerContent.setAttribute("inert",""),this.toggle(!this.open)}onCloseMenu(){this.menuBurgerContent.classList.remove("active"),this.button.firstElementChild.classList.remove("active"),this.menuBurgerContent.setAttribute("inert",""),this.toggle(!this.open)}trapFocus(){this._listeners.add(this.element,"keydown",this.pressKey.bind(this))}menuPressMouseDown(){this.firstFocusableEl.focus()}toggle(t){t!==this.open&&(this.open=t,this.button.setAttribute("aria-expanded",`${t}`))}pressKey(t){const e="Tab"===t.key||t.keyCode===this.KEYCODE_TAB;("Escape"===t.key||t.keyCode===this.KEYCODE_ESCAPE)&&(this.onCloseMenu(),this.button.focus()),e&&(t.shiftKey?document.activeElement===this.firstFocusableEl&&this.open&&(this.lastFocusableEl.focus(),t.preventDefault()):document.activeElement===this.lastFocusableEl&&(this.firstFocusableEl.focus(),t.preventDefault()))}destroy(){this._listeners.removeAll()}}class m{constructor(t){this.element=t,this.quantity=this.element.querySelectorAll(".cart-preview__quantity"),this._listeners=new d,this._listeners.add(document,"cart:added",this.change.bind(this))}change(t){const e=(new DOMParser).parseFromString(t.detail.header,"text/html");this.quantity.forEach((t=>{t.innerHTML=e.getElementById("cart-quantity").innerHTML}))}destroy(){this._listeners.removeAll(document,"cart:added",this.change.bind(this))}}function f(){this.entries=[]}function y(t){if("object"!=typeof t)throw new TypeError(t+" is not an object.");if(0===Object.keys(t).length&&t.constructor===Object)throw new Error(t+" is empty.")}r("alternate-header",{quantityCartView:null,onLoad(){this.quantityCartView=new m(this.container),this.menuBurger=new p(this.container)},onUnload(){this.quantityCartView.destroy(),this.menuBurger.destroy()}}),f.prototype.add=function(t,e,n){this.entries.push({element:t,event:e,fn:n}),t.addEventListener(e,n)},f.prototype.removeAll=function(){this.entries=this.entries.filter((function(t){return t.element.removeEventListener(t.event,t.fn),!1}))};function v(t,e,n){this.element=t,this.product=function(t){if("object"!=typeof t)throw new TypeError(t+" is not an object.");if(void 0===t.variants[0].options)throw new TypeError("Product object is invalid. Make sure you use the product object that is output from {{ product | json }} or from the http://[your-product-url].js route");return t}(e),n=n||{},this._listeners=new f,this._listeners.add(this.element,"submit",this._onSubmit.bind(this,n)),this.optionInputs=this._initInputs('[name^="options"]',n.onOptionChange),this.quantityInputs=this._initInputs('[name="quantity"]',n.onQuantityChange),this.propertyInputs=this._initInputs('[name^="properties"]',n.onPropertyChange)}v.prototype.destroy=function(){this._listeners.removeAll()},v.prototype.options=function(){return t=this.optionInputs,e=function(t){return t.name=/(?:^(options\[))(.*?)(?:\])/.exec(t.name)[2],t},t.reduce((function(t,n){return(n.checked||"radio"!==n.type&&"checkbox"!==n.type)&&t.push(e({name:n.name,value:n.value})),t}),[]);var t,e},v.prototype.variant=function(){return function(t,e){y(t);var n=function(t,e){y(t),function(t){if(!Array.isArray(t))throw new TypeError(t+" is not an array.");if(0===t.length)return[];if(!t[0].hasOwnProperty("name"))throw new Error(t[0]+"does not contain name key.");if("string"!=typeof t[0].name)throw new TypeError("Invalid value type passed for name of option "+t[0].name+". Value should be string.")}(e);var n=[];return e.forEach((function(e){for(var i=0;i<t.options.length;i++)if(t.options[i].name.toLowerCase()===e.name.toLowerCase()){n[i]=e.value;break}})),n}(t,e);return function(t,e){return y(t),function(t){if(Array.isArray(t)&&"object"==typeof t[0])throw new Error(t+"is not a valid array of options.")}(e),t.variants.filter((function(t){return e.every((function(e,n){return t.options[n]===e}))}))[0]||null}(t,n)}(this.product,this.options())},v.prototype.properties=function(){var t,e,n=(t=this.propertyInputs,e=function(t){return/(?:^(properties\[))(.*?)(?:\])/.exec(t)[2]},t.reduce((function(t,n){return(n.checked||"radio"!==n.type&&"checkbox"!==n.type)&&(t[e(n.name)]=n.value),t}),{}));return 0===Object.entries(n).length?null:n},v.prototype.quantity=function(){return this.quantityInputs[0]?Number.parseInt(this.quantityInputs[0].value,10):1},v.prototype._setIdInputValue=function(t){var e=this.element.querySelector('[name="id"]');e||((e=document.createElement("input")).type="hidden",e.name="id",this.element.appendChild(e)),e.value=t.toString()},v.prototype._onSubmit=function(t,e){e.dataset=this._getProductFormEventData(),e.dataset.variant&&this._setIdInputValue(e.dataset.variant.id),t.onFormSubmit&&t.onFormSubmit(e)},v.prototype._onFormEvent=function(t){return void 0===t?Function.prototype:function(e){e.dataset=this._getProductFormEventData(),t(e)}.bind(this)},v.prototype._initInputs=function(t,e){return Array.prototype.slice.call(this.element.querySelectorAll(t)).map(function(t){return this._listeners.add(t,"change",this._onFormEvent(e)),t}.bind(this))},v.prototype._getProductFormEventData=function(){return{options:this.options(),variant:this.variant(),properties:this.properties(),quantity:this.quantity()}};const b="animated",g="closed",w="opened",E={duration:500,easing:"ease-in-out",fill:"forwards"};class S{constructor(t){this.element=t,this.button=this.element.querySelector("[data-accordion-button]"),this.content=this.element.querySelector("[data-accordion-content]"),this.showInLoadSection=this.button.getAttribute("data-show-in-load-section"),this.state=w,this.animation=null,this.toggle(),this._listeners=new d,this._listeners.add(this.button,"click",this.toggle.bind(this))}toggle(){switch(this.state){case g:this.opened();break;case w:this.closed()}}getListeners(){return this.listenrs=this._listeners}closed(){this.state=b,this._animateContent(!1,g),this.button.setAttribute("aria-expanded",!1)}opened(){this.state=b,this._animateContent(!0,w),this.button.setAttribute("aria-expanded",!0)}destroy(){this._listeners.removeAll()}_animateContent(t,e){const n=E;n.direction=t?"reverse":"normal",this.animation&&this.animation.cancel(),this.animation=this.content.animate({minHeight:[`${this.content.scrollHeight}px`,"0px"],height:["auto","0px"],overflow:["visible","hidden"]},n),this.animation.addEventListener("finish",(()=>{this.animation=null,this.state=e}))}}class A{constructor(t){this.accordion=t.querySelector("[data-accordion]"),this.sections=this.accordion.querySelectorAll("[data-accordion-section]"),this.sectionsInit=[],this._listeners=new d,this.alwaysOpenOne=this.accordion.getAttribute("data-always-open-one"),this.init()}init(){this.sections.forEach((t=>{const e=new S(t);this.sectionsInit.push(e),this.closedSections=this.closedSections.bind(this),"true"===this.alwaysOpenOne&&this._listeners.add(e.button,"click",this.closedSections.bind(this))})),this.startOpenSection()}startOpenSection(){let t=0;"true"!==this.alwaysOpenOne?this.sectionsInit.forEach((t=>{"true"===t.showInLoadSection&&t.opened()})):this.sectionsInit.forEach((e=>{"true"===e.showInLoadSection&&t<=0&&(t++,e.opened())}))}closedSections(t){const e=t.target.id;this.sectionsInit.forEach((t=>{t.button.id!==e&&t.state===w&&t.toggle()}))}destroy(){this._listeners.removeAll(),this.sectionsInit.forEach((t=>{t.getListeners().removeAll()}))}}const q={initialValue:1,step:1,min:1,max:1/0};class C{constructor(t){this.value=t.initialValue||q.initialValue,this.step=t.step||q.step,this.min=t.min||q.min,this.max=t.max||q.max,this.eventTarget=new EventTarget,this._listeners=new d,this.initialValue=this.initialVAlue(this.value)}clamp(t,e,n){return Math.min(Math.max(t,e),n)}isInRange(t,e,n){return t>=e&&t<=n}calcStep(t,e,n,i){const s=this.isInRange(t,n,i);return this.clamp(s?t+e:t,n,i)}initialVAlue(t){t<0?this.setValue(0):this.setValue(q.initialValue)}dispatchEvent(t,e){this.eventTarget.dispatchEvent(new CustomEvent(t,{detail:e}))}addEventListener(t,e){this._listeners.add(this.eventTarget,t,e)}removeEventListener(t,e){this._listeners.removeAll(this.eventTarget,t,e)}getValue(){return this.value}setValue(t){this.value=this.clamp(t,this.min,this.max),this.dispatchEvent("change",{value:this.value})}setMin(t){this.min=t}setMax(t){this.max=t,this.initialVAlue(this.value)}increase(){this.setValue(this.calcStep(this.value,this.step,this.min,this.max))}decrease(){this.setValue(this.calcStep(this.value,-this.step,this.min,this.max))}}class _{constructor(t,e){this.options=e||q,this.quantity=new C(this.options),this.changeInput=new CustomEvent("change",{bubbles:!0}),this._listeners=new d,this.input=t.querySelector("[data-input]"),this.decrease=t.querySelector("[data-decrease]"),this.increase=t.querySelector("[data-increase]"),this.render(),this._listeners.add(this.input,"change",this.onInput.bind(this)),this._listeners.add(this.decrease,"click",this.onDecrease.bind(this)),this._listeners.add(this.increase,"click",this.onIncrease.bind(this)),this._listeners.add(this.quantity,"change",this.render.bind(this))}render(){let t=this.quantity.getValue();this.input.step=this.quantity.step,this.input.min=this.quantity.min,this.input.max=this.quantity.max,this.input.value=t,this.decrease.disabled=t<=this.quantity.min,this.increase.disabled=t>=this.quantity.max}onDecrease(){this.quantity.decrease(),this.input.dispatchEvent(this.changeInput)}onIncrease(){this.quantity.increase(),this.input.dispatchEvent(this.changeInput)}onInput(t){this.quantity.setValue(t.target.value)}setMin(t){this.quantity.setMin(t)}setMax(t){this.quantity.setMax(t),this.input.dispatchEvent(this.changeInput)}destroy(){this._listeners.removeAll()}}class I{constructor(t){this.container=t,this.productHandle=this.container.dataset.handle,this.formElement=this.container.querySelector("#product-form"),this.firstElementMax=this.container.querySelector("[data-input]").max,this.quantity=new _(this.container,{max:this.firstElementMax})}onOptionChange(t){const e=t.dataset.variant;if(!e)return;this.changeNameColor(e),this.toggleAddButton(e),this.onQuantityChange(t),this.variantQuantity(e),this.handleErrorMessage();const n=function(t,e){return/variant=/.test(t)?t.replace(/(variant=)[^&]+/,"$1"+e):/\?/.test(t)?t.concat("&variant=").concat(e):t.concat("?variant=").concat(e)}(window.location.href,e.id);window.history.replaceState({path:n},"",n)}variantQuantity(t){const e=window.variants_inventory;let n;Object.keys(e).forEach((e=>{e==t.id&&(n=e)})),this.initialVAlueMax(t,e[n])}initialVAlueMax(t,e){t.available&&e<0?this.quantity.setMax(1/0):e<0?this.quantity.setMax(0):this.quantity.setMax(e)}onQuantityChange(t){t.dataset.variant,t.dataset.quantity,this.handleErrorMessage()}changeNameColor(t){const e=t.name.split("/")[1];this.container.querySelector(`#label-discription-${this.container.dataset.productId}`).innerHTML=e}toggleAddButton(t){const e=this.container.querySelector("#button-add"),n=this.container.querySelector("#button-buy"),i=this.container.querySelector("#button-add > span");t?t&&!t.available?(e.setAttribute("disabled","disabled"),n.setAttribute("disabled","disabled"),i.textContent=window.variantStrings.soldOut):t&&t.available&&(e.removeAttribute("disabled"),n.removeAttribute("disabled"),i.textContent=window.variantStrings.addToCart):(e.setAttribute("disabled","disabled"),n.setAttribute("disabled","disabled"),i.textContent=window.variantStrings.unavailable)}onFormSubmit(t){t.preventDefault(),fetch(`${t.target.action}.js`,{method:t.target.method,body:new FormData(t.target),headers:{"X-Requested-With":"XMLHttpRequest"}}).then((t=>t.json())).then((t=>{if(t.status)this.handleErrorMessage(t.description);else{const e=new CustomEvent("cart:added",{detail:{header:t.sections["alternate-header"]},bubbles:!0});this.formElement.dispatchEvent(e)}})).catch((t=>{console.error(t)}))}handleErrorMessage(t=!1){this.errorMessage=this.container.querySelector(".form-out-stock"),this.errorMessage.toggleAttribute("hidden",!t),t&&(this.errorMessage.textContent=t)}destroy(){this.quantity.destroy()}}r("alternate-main-product",{accordeon:null,form:null,productForm:null,formElement:null,onLoad(){this.accordeon=new A(this.container),this.form=new I(this.container),this.formElement=this.form.formElement;const t=this.form.productHandle;fetch(`/products/${t}.js`).then((t=>t.json())).then((t=>{this.productForm=new v(this.formElement,t,{onOptionChange:this.form.onOptionChange.bind(this.form),onFormSubmit:this.form.onFormSubmit.bind(this.form),onQuantityChange:this.form.onQuantityChange.bind(this.form)})}))},onUnload(){this.productForm&&this.productForm.destroy(),this.accordeon&&this.accordeon.destroy(),this.form&&this.form.destroy()},onBlockSelect(t){this.accordeon.sectionsInit.forEach((e=>{e.element.id===t.target.id&&e.opened()}))},onBlockDeselect(t){this.accordeon.sectionsInit.forEach((e=>{e.element.id===t.target.id&&e.closed()}))}}),document.addEventListener("DOMContentLoaded",(()=>a("*")))})()})();